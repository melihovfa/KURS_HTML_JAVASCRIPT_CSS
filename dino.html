<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫ - –ò–≥—Ä–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .game-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 20px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .game-header {
            background: linear-gradient(135deg, #4361ee, #3a56d4);
            color: white;
            padding: 20px;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .game-title {
            font-size: 24px;
            font-weight: 700;
        }

        .game-stats {
            display: flex;
            gap: 30px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            font-family: 'Courier New', monospace;
        }

        .game-canvas-container {
            position: relative;
            background: #f0f0f0;
        }

        #gameCanvas {
            width: 100%;
            height: 400px;
            display: block;
            background: #f7f7f7;
            cursor: pointer;
        }

        .game-controls {
            padding: 20px;
            background: #fff;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .game-btn {
            padding: 14px 28px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 160px;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .game-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .game-btn:active {
            transform: translateY(0);
        }

        .start-btn {
            background: linear-gradient(135deg, #4cc9f0, #4361ee);
            color: white;
        }

        .pause-btn {
            background: linear-gradient(135deg, #ffbd2e, #ff9e1a);
            color: white;
        }

        .restart-btn {
            background: linear-gradient(135deg, #f72585, #e11575);
            color: white;
        }

        .game-instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            width: 90%;
            z-index: 100;
        }

        .game-instructions h2 {
            color: #4361ee;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .game-instructions p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .instructions-btn {
            background: #4361ee;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .instructions-btn:hover {
            background: #3a56d4;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        .mobile-controls {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            justify-content: space-around;
            border-top: 1px solid #e9ecef;
        }

        .mobile-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, #4361ee, #3a56d4);
            color: white;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(67, 97, 238, 0.3);
        }

        .duck-btn {
            background: linear-gradient(135deg, #f72585, #e11575);
        }

        @media (max-width: 768px) {
            .game-header {
                flex-direction: column;
                gap: 15px;
            }
            
            .game-stats {
                width: 100%;
                justify-content: space-around;
            }
            
            .stat-value {
                font-size: 24px;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .game-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .mobile-controls {
                display: flex;
            }
            
            #gameCanvas {
                height: 300px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .game-title {
                font-size: 20px;
            }
            
            .stat-value {
                font-size: 20px;
            }
            
            #gameCanvas {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <div class="game-title">ü¶ñ –î–ò–ù–û–ó–ê–í–†–ò–ö</div>
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">–û—á–∫–∏</div>
                    <div id="score" class="stat-value">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–†–µ–∫–æ—Ä–¥</div>
                    <div id="highScore" class="stat-value">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–°–∫–æ—Ä–æ—Å—Ç—å</div>
                    <div id="speed" class="stat-value">6</div>
                </div>
            </div>
        </div>
        
        <div class="game-canvas-container">
            <canvas id="gameCanvas"></canvas>
            <div class="game-instructions" id="instructions">
                <h2>ü¶ñ –î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫</h2>
                <p>–ò–∑–±–µ–≥–∞–π—Ç–µ –∫–∞–∫—Ç—É—Å–æ–≤, –ø—Ä—ã–≥–∞–π—Ç–µ –∏ –ø—Ä–∏—Å–µ–¥–∞–π—Ç–µ!<br>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:<br>‚Ä¢ –ü–†–û–ë–ï–õ –∏–ª–∏ ‚Üë - –ü—Ä—ã–∂–æ–∫<br>‚Ä¢ ‚Üì - –ü—Ä–∏—Å–µ—Å—Ç—å<br>‚Ä¢ P - –ü–∞—É–∑–∞<br>‚Ä¢ R - –ó–∞–Ω–æ–≤–æ</p>
                <button class="instructions-btn" onclick="startGame()">–ò–ì–†–ê–¢–¨</button>
            </div>
        </div>
        
        <div class="game-controls">
            <button id="startBtn" class="game-btn start-btn" onclick="startGame()">
                ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
            </button>
            <button id="pauseBtn" class="game-btn pause-btn" onclick="togglePause()">
                ‚è∏Ô∏è –ü–∞—É–∑–∞
            </button>
            <button id="restartBtn" class="game-btn restart-btn" onclick="restartGame()">
                üîÑ –ó–∞–Ω–æ–≤–æ
            </button>
        </div>
        
        <div class="mobile-controls">
            <button id="jumpBtn" class="mobile-btn" onmousedown="jump()" ontouchstart="jump()">
                ‚Üë
            </button>
            <button id="duckBtn" class="mobile-btn duck-btn" 
                    onmousedown="duck(true)" onmouseup="duck(false)"
                    ontouchstart="duck(true)" ontouchend="duck(false)">
                ‚Üì
            </button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        class DinoGame {
            constructor(canvas) {
                this.canvas = canvas;
                this.ctx = canvas.getContext('2d');
                
                // –†–∞–∑–º–µ—Ä—ã –∫–∞–Ω–≤–∞—Å–∞
                this.canvas.width = 800;
                this.canvas.height = 400;
                
                // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                this.score = 0;
                this.highScore = localStorage.getItem('dinoHighScore') || 0;
                this.gameSpeed = 6;
                this.isGameOver = false;
                this.isPaused = false;
                this.isStarted = false;
                
                // –î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫
                this.dino = {
                    x: 80,
                    y: this.canvas.height - 100,
                    width: 60,
                    height: 70,
                    color: '#555',
                    isJumping: false,
                    isDucking: false,
                    jumpVelocity: 0,
                    gravity: 0.8,
                    jumpPower: -15,
                    duckHeight: 40,
                    normalHeight: 70
                };
                
                // –ö–∞–∫—Ç—É—Å—ã
                this.cacti = [];
                this.cactusTimer = 0;
                this.cactusInterval = 100;
                
                // –û–±–ª–∞–∫–∞
                this.clouds = [];
                this.cloudTimer = 0;
                
                // –ó–µ–º–ª—è
                this.groundX = 0;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                this.lastTime = 0;
                this.gameLoopId = null;
                
                // –ó–≤—É–∫–∏
                this.sounds = {
                    jump: new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA=='),
                    hit: new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==')
                };
                
                this.init();
            }
            
            init() {
                // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –æ–±–ª–∞–∫–∞
                for (let i = 0; i < 3; i++) {
                    this.addCloud();
                }
                
                this.updateHighScore();
                this.gameLoop();
            }
            
            gameLoop(timestamp) {
                if (!this.lastTime) this.lastTime = timestamp;
                const deltaTime = timestamp - this.lastTime;
                this.lastTime = timestamp;
                
                if (!this.isPaused && this.isStarted && !this.isGameOver) {
                    this.update(deltaTime);
                }
                
                this.draw();
                this.gameLoopId = requestAnimationFrame(this.gameLoop.bind(this));
            }
            
            update(deltaTime) {
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–Ω–æ–∑–∞–≤—Ä–∏–∫–∞
                if (this.dino.isJumping) {
                    this.dino.y += this.dino.jumpVelocity;
                    this.dino.jumpVelocity += this.dino.gravity;
                    
                    if (this.dino.y >= this.canvas.height - 100) {
                        this.dino.y = this.canvas.height - 100;
                        this.dino.isJumping = false;
                        this.dino.jumpVelocity = 0;
                    }
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∫—Ç—É—Å–æ–≤
                for (let i = this.cacti.length - 1; i >= 0; i--) {
                    this.cacti[i].x -= this.gameSpeed;
                    
                    if (this.cacti[i].x + this.cacti[i].width < 0) {
                        this.cacti.splice(i, 1);
                    }
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±–ª–∞–∫–æ–≤
                for (let i = this.clouds.length - 1; i >= 0; i--) {
                    this.clouds[i].x -= this.gameSpeed / 2;
                    
                    if (this.clouds[i].x + this.clouds[i].width < 0) {
                        this.clouds.splice(i, 1);
                    }
                }
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–µ–º–ª–∏
                this.groundX -= this.gameSpeed;
                if (this.groundX <= -this.canvas.width) {
                    this.groundX = 0;
                }
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–∫—Ç—É—Å–æ–≤
                this.cactusTimer++;
                if (this.cactusTimer > this.cactusInterval) {
                    this.addCactus();
                    this.cactusTimer = 0;
                    this.cactusInterval = Math.max(40, 100 - Math.floor(this.score / 50) * 5);
                }
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –æ–±–ª–∞–∫–æ–≤
                this.cloudTimer++;
                if (this.cloudTimer > 150) {
                    this.addCloud();
                    this.cloudTimer = 0;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π
                this.checkCollisions();
                
                // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞
                if (!this.isGameOver) {
                    this.score += 0.5;
                    this.updateScore();
                    
                    if (Math.floor(this.score) % 100 === 0 && Math.floor(this.score) > 0) {
                        this.gameSpeed = Math.min(15, 6 + Math.floor(this.score / 100));
                        this.updateSpeed();
                    }
                }
            }
            
            draw() {
                // –û—á–∏—Å—Ç–∫–∞ –∫–∞–Ω–≤–∞—Å–∞
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –ù–µ–±–æ
                const gradient = this.ctx.createLinearGradient(0, 0, 0, this.canvas.height);
                gradient.addColorStop(0, '#87CEEB');
                gradient.addColorStop(1, '#E0F7FF');
                this.ctx.fillStyle = gradient;
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –°–æ–ª–Ω—Ü–µ
                this.ctx.beginPath();
                this.ctx.arc(this.canvas.width - 80, 70, 30, 0, Math.PI * 2);
                this.ctx.fillStyle = '#FFD700';
                this.ctx.fill();
                
                // –û–±–ª–∞–∫–∞
                for (const cloud of this.clouds) {
                    this.ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                    this.ctx.beginPath();
                    this.ctx.arc(cloud.x + cloud.width * 0.3, cloud.y + cloud.height * 0.5, cloud.height * 0.5, 0, Math.PI * 2);
                    this.ctx.arc(cloud.x + cloud.width * 0.7, cloud.y + cloud.height * 0.5, cloud.height * 0.5, 0, Math.PI * 2);
                    this.ctx.arc(cloud.x + cloud.width * 0.5, cloud.y, cloud.height * 0.5, 0, Math.PI * 2);
                    this.ctx.fill();
                }
                
                // –ó–µ–º–ª—è
                this.ctx.fillStyle = '#8B4513';
                this.ctx.fillRect(0, this.canvas.height - 20, this.canvas.width, 20);
                
                // –¢—Ä–∞–≤–∞
                this.ctx.fillStyle = '#2ecc71';
                for (let i = 0; i < this.canvas.width; i += 20) {
                    const x = (i + this.groundX) % this.canvas.width;
                    const height = 8 + Math.sin((x + this.groundX) * 0.1) * 4;
                    this.ctx.fillRect(x, this.canvas.height - 20, 20, -height);
                }
                
                // –ö–∞–∫—Ç—É—Å—ã
                for (const cactus of this.cacti) {
                    this.ctx.fillStyle = '#27ae60';
                    
                    if (cactus.type === 0) {
                        this.ctx.fillRect(cactus.x, cactus.y, cactus.width, cactus.height);
                    } else if (cactus.type === 1) {
                        this.ctx.fillRect(cactus.x, cactus.y, cactus.width, cactus.height);
                        this.ctx.fillRect(cactus.x + cactus.width + 5, cactus.y + 10, cactus.width * 0.7, cactus.height - 10);
                    } else {
                        this.ctx.fillRect(cactus.x, cactus.y, cactus.width, cactus.height);
                        this.ctx.fillRect(cactus.x + cactus.width + 5, cactus.y + 5, cactus.width * 0.8, cactus.height - 5);
                        this.ctx.fillRect(cactus.x - cactus.width * 0.8 - 5, cactus.y + 15, cactus.width * 0.8, cactus.height - 15);
                    }
                }
                
                // –î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫
                const dino = this.dino;
                const height = dino.isDucking ? dino.duckHeight : dino.normalHeight;
                
                this.ctx.fillStyle = dino.color;
                this.ctx.fillRect(dino.x, dino.y, dino.width, height);
                
                // –ì–æ–ª–æ–≤–∞
                this.ctx.beginPath();
                this.ctx.arc(dino.x + dino.width, dino.y + 15, 15, 0, Math.PI * 2);
                this.ctx.fill();
                
                // –ì–ª–∞–∑
                this.ctx.fillStyle = 'white';
                this.ctx.beginPath();
                this.ctx.arc(dino.x + dino.width + 5, dino.y + 12, 4, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.fillStyle = 'black';
                this.ctx.beginPath();
                this.ctx.arc(dino.x + dino.width + 6, dino.y + 11, 2, 0, Math.PI * 2);
                this.ctx.fill();
                
                // –ù–æ–≥–∏
                this.ctx.fillStyle = dino.color;
                if (!dino.isDucking) {
                    const legOffset = Math.sin(Date.now() * 0.01) * 5;
                    this.ctx.fillRect(dino.x + 10, dino.y + height, 15, 20);
                    this.ctx.fillRect(dino.x + 35, dino.y + height + legOffset, 15, 20);
                } else {
                    this.ctx.fillRect(dino.x + 10, dino.y + height, 15, 10);
                    this.ctx.fillRect(dino.x + 35, dino.y + height, 15, 10);
                }
                
                // –•–≤–æ—Å—Ç
                this.ctx.beginPath();
                this.ctx.moveTo(dino.x, dino.y + 20);
                this.ctx.lineTo(dino.x - 20, dino.y + 15);
                this.ctx.lineTo(dino.x - 10, dino.y + 30);
                this.ctx.closePath();
                this.ctx.fill();
                
                // Game Over
                if (this.isGameOver) {
                    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                    this.ctx.fillRect(this.canvas.width / 2 - 150, this.canvas.height / 2 - 80, 300, 160);
                    
                    this.ctx.fillStyle = '#ff6b6b';
                    this.ctx.font = 'bold 36px Arial';
                    this.ctx.textAlign = 'center';
                    this.ctx.fillText('GAME OVER', this.canvas.width / 2, this.canvas.height / 2 - 30);
                    
                    this.ctx.fillStyle = 'white';
                    this.ctx.font = '20px Arial';
                    this.ctx.fillText(`–°—á–µ—Ç: ${Math.floor(this.score)}`, this.canvas.width / 2, this.canvas.height / 2 + 10);
                    this.ctx.fillText(`–†–µ–∫–æ—Ä–¥: ${Math.floor(this.highScore)}`, this.canvas.width / 2, this.canvas.height / 2 + 40);
                    
                    this.ctx.font = '16px Arial';
                    this.ctx.fillText('–ù–∞–∂–º–∏—Ç–µ "–ó–∞–Ω–æ–≤–æ"', this.canvas.width / 2, this.canvas.height / 2 + 70);
                }
            }
            
            addCactus() {
                const height = 40 + Math.random() * 40;
                const type = Math.floor(Math.random() * 3);
                
                this.cacti.push({
                    x: this.canvas.width,
                    y: this.canvas.height - height - 20,
                    width: 20 + Math.random() * 15,
                    height: height,
                    type: type
                });
            }
            
            addCloud() {
                const size = 20 + Math.random() * 20;
                this.clouds.push({
                    x: this.canvas.width,
                    y: 30 + Math.random() * 100,
                    width: size * 3,
                    height: size
                });
            }
            
            checkCollisions() {
                const dino = this.dino;
                const dinoHeight = dino.isDucking ? dino.duckHeight : dino.normalHeight;
                
                for (const cactus of this.cacti) {
                    if (dino.x < cactus.x + cactus.width &&
                        dino.x + dino.width > cactus.x &&
                        dino.y < cactus.y + cactus.height &&
                        dino.y + dinoHeight > cactus.y) {
                        this.gameOver();
                        break;
                    }
                }
            }
            
            jump() {
                if (!this.dino.isJumping && !this.isGameOver && this.isStarted) {
                    this.dino.isJumping = true;
                    this.dino.jumpVelocity = this.dino.jumpPower;
                    this.dino.isDucking = false;
                    // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ –ø—Ä—ã–∂–∫–∞
                    if (this.sounds.jump) {
                        this.sounds.jump.currentTime = 0;
                        this.sounds.jump.play().catch(() => {});
                    }
                }
            }
            
            duck(start) {
                if (!this.dino.isJumping && !this.isGameOver && this.isStarted) {
                    this.dino.isDucking = start;
                }
            }
            
            start() {
                if (!this.isStarted) {
                    this.isStarted = true;
                    this.isPaused = false;
                    this.isGameOver = false;
                    this.lastTime = 0;
                    document.getElementById('instructions').style.display = 'none';
                } else if (this.isPaused) {
                    this.isPaused = false;
                    this.lastTime = 0;
                }
            }
            
            togglePause() {
                if (this.isStarted && !this.isGameOver) {
                    this.isPaused = !this.isPaused;
                    return this.isPaused;
                }
                return false;
            }
            
            restart() {
                this.score = 0;
                this.gameSpeed = 6;
                this.isGameOver = false;
                this.isPaused = false;
                this.isStarted = true;
                this.lastTime = 0;
                
                this.dino = {
                    x: 80,
                    y: this.canvas.height - 100,
                    width: 60,
                    height: 70,
                    color: '#555',
                    isJumping: false,
                    isDucking: false,
                    jumpVelocity: 0,
                    gravity: 0.8,
                    jumpPower: -15,
                    duckHeight: 40,
                    normalHeight: 70
                };
                
                this.cacti = [];
                this.cactusTimer = 0;
                this.cactusInterval = 100;
                
                this.updateScore();
                this.updateSpeed();
                document.getElementById('instructions').style.display = 'none';
            }
            
            gameOver() {
                this.isGameOver = true;
                this.isStarted = false;
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–≤—É–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
                if (this.sounds.hit) {
                    this.sounds.hit.currentTime = 0;
                    this.sounds.hit.play().catch(() => {});
                }
                
                if (this.score > this.highScore) {
                    this.highScore = this.score;
                    localStorage.setItem('dinoHighScore', this.highScore);
                    this.updateHighScore();
                }
            }
            
            updateScore() {
                document.getElementById('score').textContent = Math.floor(this.score);
            }
            
            updateHighScore() {
                document.getElementById('highScore').textContent = Math.floor(this.highScore);
            }
            
            updateSpeed() {
                document.getElementById('speed').textContent = this.gameSpeed;
            }
            
            destroy() {
                if (this.gameLoopId) {
                    cancelAnimationFrame(this.gameLoopId);
                }
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let game = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            const canvas = document.getElementById('gameCanvas');
            game = new DinoGame(canvas);
            
            // –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∫–∞–Ω–≤–∞—Å–∞
            function resizeCanvas() {
                const container = canvas.parentElement;
                const containerWidth = container.clientWidth;
                const scale = containerWidth / 800;
                canvas.style.width = containerWidth + 'px';
                canvas.style.height = (400 * scale) + 'px';
            }
            
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            
            // –ö–ª–∏–∫ –ø–æ –∫–∞–Ω–≤–∞—Å—É –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            canvas.addEventListener('click', () => {
                if (!game.isStarted) {
                    startGame();
                }
            });
        });

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        function startGame() {
            if (game) {
                game.start();
                document.getElementById('instructions').style.display = 'none';
            }
        }

        function togglePause() {
            if (game) {
                const isPaused = game.togglePause();
                const pauseBtn = document.getElementById('pauseBtn');
                pauseBtn.innerHTML = isPaused ? '‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' : '‚è∏Ô∏è –ü–∞—É–∑–∞';
            }
        }

        function restartGame() {
            if (game) {
                game.restart();
            }
        }

        function jump() {
            if (game) {
                game.jump();
            }
        }

        function duck(start) {
            if (game) {
                game.duck(start);
            }
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', (e) => {
            if (!game) return;
            
            switch (e.code) {
                case 'Space':
                case 'ArrowUp':
                    e.preventDefault();
                    if (!game.isStarted) {
                        startGame();
                    }
                    game.jump();
                    break;
                case 'ArrowDown':
                    e.preventDefault();
                    if (!game.isStarted) {
                        startGame();
                    }
                    game.duck(true);
                    break;
                case 'KeyP':
                    e.preventDefault();
                    const isPaused = game.togglePause();
                    const pauseBtn = document.getElementById('pauseBtn');
                    pauseBtn.innerHTML = isPaused ? '‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' : '‚è∏Ô∏è –ü–∞—É–∑–∞';
                    break;
                case 'KeyR':
                    e.preventDefault();
                    game.restart();
                    break;
                case 'Enter':
                    e.preventDefault();
                    if (!game.isStarted) {
                        startGame();
                    }
                    break;
            }
        });

        document.addEventListener('keyup', (e) => {
            if (game && e.code === 'ArrowDown') {
                game.duck(false);
            }
        });

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
        document.addEventListener('keydown', (e) => {
            if (['Space', 'ArrowUp', 'ArrowDown'].includes(e.code)) {
                e.preventDefault();
            }
        });

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        document.addEventListener('touchstart', (e) => {
            if (e.target.tagName === 'BUTTON') return;
            e.preventDefault();
        }, { passive: false });

        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏
        console.log('üéÆ –ò–≥—Ä–∞ "–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫" –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
        console.log('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:');
        console.log('–ü–†–û–ë–ï–õ –∏–ª–∏ ‚Üë - –ü—Ä—ã–∂–æ–∫');
        console.log('‚Üì - –ü—Ä–∏—Å–µ—Å—Ç—å');
        console.log('P - –ü–∞—É–∑–∞');
        console.log('R - –ó–∞–Ω–æ–≤–æ');
        console.log('ENTER - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É');
    </script>
</body>
</html>
